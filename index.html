<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Digitalgravy</title>
    <link href="css/main.css" rel="stylesheet" type="text/css" />
    <script src="js/jquery-1.9.1.min.js"></script>
    <script src="js/jquery.githubrepos.js"></script>
</head>
<body>
    <h1 id="logo"><span title="Digitalgravy Ltd." id="dg_logo"><span class="hidden">Digitalgravy Ltd.</span></span> <span id="plus">+</span> <span title="Github" id="gh_logo"><span class="hidden">Github</span></span></h1>
    <article id="pre_message">
        <p>Here listed are all the projects created by Digitalgravy Ltd. on Github</p>
    </article>
    <section>
        <header>
            <h2>Projects</h2>
        </header>
        <article>
            <ul id="repos">
                <li>Loading repository list...</li>
            </ul>
        </article>
    </section>
    <script>
        $(document).ready(function () {
            var repoList = new GitHubRepos('digitalgravy');
            repoList.get(function (repos, err) {
                console.log(repos, err);
                if (err) {
                    $('#repos').html('<li>Sorry, there was a problem returning the list of repositories. Click <a href="https://github.com/digitalgravy?tab=repositories" title="Digitalgravy Repositories">here</a> for a full list</li>');
                }else{
                    $('#repos').html('');
                    var i = repos.length-1;
                    while (i) {
                        $('#repos').prepend('<li><h3><a href="http://digitalgravy.github.com/' + repos[i].name + '" title="Link to the ' + repos[i].name + ' reprository">' + repos[i].name + '</a></h3><p>' + repos[i].description + '</p></li>');
                        i--;
                    }
                }
            });
        });
    </script>
</body>
</html>
